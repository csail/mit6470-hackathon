function initializePlay(){var e=0,t=[];$("#start").click(function(){gameBoard=[];for(var n=0;n<boardSize;n++)gameBoard.push(repeatArray(0,boardSize));$(".square").attr("src","/assets/asl_letters/asl_blank.png"),t=[];for(var n=0;n<boardSize;n++){var r=Math.floor(Math.random()*25);while($.inArray(alph[r],t)==1)r=Math.floor(Math.random()*25);t.push(alph[r])}$("#letter").text(t[Math.floor(Math.random()*5)]).parent().addClass("letter"),e=0,$("#score").text(e),$("#progress").css("width","0px"),beginProgressBar(),gameStarted=!0}),$(".square").click(function(){var n=Math.floor($(this).attr("id")/10),r=$(this).attr("id")%10;if(gameStarted&&gameBoard[n][r]==0){var i=$("#letter").text(),s=checkNeighbors(n,r,i);if(s.length>0){$(this).attr("src","/assets/asl_letters/asl_"+i+".png"),$(this).css("opacity",100),e+=1;var o=".square#"+String(this.id);for(var u=0;u<s.length;u++){var a=".square#"+String(s[u]);fade_out(a),gameBoard[Math.floor(s[u]/10)][s[u]%10]=0,e+=1}fade_out(".square#"+this.id),gameBoard[n][r]=0}else gameBoard[n][r]=i,$(this).attr("src","/assets/asl_letters/asl_"+i+".png"),$(this).css("opacity",100);$("#score").text(e),$("#letter").text(t[Math.floor(Math.random()*5)]),$("#progress").css("width","0%")}})}function checkNeighbors(e,t,n){var r=e*10+t,i=(e-1)*10+t,s=e*10+t+1,o=(e+1)*10+t,u=e*10+t-1,a=[];return e!=0&&gameBoard[e-1][t]==n&&a.push(i),e!=5&&gameBoard[e+1][t]==n&&a.push(o),t!=0&&gameBoard[e][t-1]==n&&a.push(u),t!=5&&gameBoard[e][t+1]==n&&a.push(s),a}function beginProgressBar(){var e=parseInt($("#progress").css("width").substring(0,$("#progress").css("width").length-2));if(e<270){$("#progress").css("width",String(e+10)+"px");for(var t=0;t<fadingIDs.length;t++){var n=fadingIDs[t],r=parseFloat($(n).css("opacity"));r>.1?$(n).css("opacity",String(r-.1)):($(n).css("opacity","0"),fadingIDs.remove(t),$(n).attr("src","/assets/asl_letters/asl_blank.png"))}setTimeout("beginProgressBar()",100)}else e==270&&($("#progress").css("width","273px"),gameStarted=!1,$("#letter").text("Game Over").parent().removeClass("letter"))}function repeatArray(e,t){array=[];for(i=0;i<t;i+=1)array.push(e);return array}function fade_out(e){fadingIDs.push(e)}function fade_in(e){var t=$(e).css("opacity");t<.9?($(e).css("opacity",String(parseFloat(t)+.1)),setTimeout("fade_in()",50)):$(e).css("opacity","1")}var alph="abcdefghijklmnopqrstuvwxyz",gameBoard=[],gameStarted=!1,boardSize=5,fadingIDs=[];Array.prototype.remove=function(e,t){var n=this.slice((t||e)+1||this.length);return this.length=e<0?this.length+e:e,this.push.apply(this,n)};